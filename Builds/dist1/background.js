function handleMessage(e,t,o){console.log(`content script sent a message: ${e.content}`),o({response:"response from background script"})}chrome.browserAction.onClicked.addListener((e=>{chrome.tabs.create({url:chrome.extension.getURL("options.html")})})),chrome.tabs.onUpdated.addListener((function(e,t,o){"complete"===t.status&&o.url.includes("http")&&chrome.tabs.executeScript(e,{file:"./inject_script.js"},(function(){chrome.tabs.executeScript(e,{file:"./foreground.bundle.js"},(function(){console.log("INJECTED AND EXECUTED")}))}))})),chrome.runtime.onMessage.addListener(((e,t,o)=>(fetchGoogleTimelineData(e.from,e.to).then((e=>{console.log("Received data",e),o({error:null,data:e})})).catch((e=>{o({error:e})})),!0))),chrome.runtime.onMessage.addListener(handleMessage),chrome.runtime.onMessage.addListener((function(e,t,o){"getLocalStorage"==e.method?o({data:localStorage[e.key]}):o({})}));